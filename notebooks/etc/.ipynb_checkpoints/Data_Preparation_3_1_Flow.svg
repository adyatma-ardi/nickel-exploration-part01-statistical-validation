<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: Data_Preparation_3_1 Pages: 1 -->
<svg width="600pt" height="975pt"
 viewBox="0.00 0.00 600.39 975.48" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 971.48)">
<title>Data_Preparation_3_1</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-971.48 596.39,-971.48 596.39,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="#f2f2f2" stroke="black" cx="363.89" cy="-940.61" rx="224.31" ry="26.74"/>
<text text-anchor="middle" x="363.89" y="-944.41" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="14.00">3.1 Data Preparation</text>
<text text-anchor="middle" x="363.89" y="-929.41" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="14.00">(CSV → Python → PostgreSQL/PostGIS)</text>
</g>
<!-- proc -->
<g id="node2" class="node">
<title>proc</title>
<path fill="#e8f4ff" stroke="black" d="M483.39,-854.74C483.39,-854.74 244.39,-854.74 244.39,-854.74 238.39,-854.74 232.39,-848.74 232.39,-842.74 232.39,-842.74 232.39,-828.74 232.39,-828.74 232.39,-822.74 238.39,-816.74 244.39,-816.74 244.39,-816.74 483.39,-816.74 483.39,-816.74 489.39,-816.74 495.39,-822.74 495.39,-828.74 495.39,-828.74 495.39,-842.74 495.39,-842.74 495.39,-848.74 489.39,-854.74 483.39,-854.74"/>
<text text-anchor="middle" x="363.89" y="-839.54" font-family="Times,serif" font-size="14.00">Process (Jupyter Notebook / Python)</text>
<text text-anchor="middle" x="363.89" y="-824.54" font-family="Times,serif" font-size="14.00">standardize → clean → composite → export</text>
</g>
<!-- start&#45;&gt;proc -->
<g id="edge1" class="edge">
<title>start&#45;&gt;proc</title>
<path fill="none" stroke="black" d="M363.89,-913.65C363.89,-898.9 363.89,-880.41 363.89,-865.25"/>
<polygon fill="black" stroke="black" points="367.39,-864.91 363.89,-854.91 360.39,-864.91 367.39,-864.91"/>
<text text-anchor="middle" x="375.89" y="-880.54" font-family="Times,serif" font-size="14.00">start</text>
</g>
<!-- n1 -->
<g id="node3" class="node">
<title>n1</title>
<polygon fill="#ffffff" stroke="black" points="499.39,-771.74 228.39,-771.74 228.39,-733.74 499.39,-733.74 499.39,-771.74"/>
<text text-anchor="middle" x="363.89" y="-756.54" font-family="Times,serif" font-size="14.00">3.1.1 Import &amp; Standardization</text>
<text text-anchor="middle" x="363.89" y="-741.54" font-family="Times,serif" font-size="14.00">(Load CSVs, normalize column names, types)</text>
</g>
<!-- proc&#45;&gt;n1 -->
<g id="edge2" class="edge">
<title>proc&#45;&gt;n1</title>
<path fill="none" stroke="black" d="M363.89,-816.36C363.89,-806.24 363.89,-793.47 363.89,-782.1"/>
<polygon fill="black" stroke="black" points="367.39,-781.77 363.89,-771.77 360.39,-781.77 367.39,-781.77"/>
</g>
<!-- n2 -->
<g id="node4" class="node">
<title>n2</title>
<polygon fill="#fff6e6" stroke="black" points="492.39,-688.74 235.39,-688.74 235.39,-650.74 492.39,-650.74 492.39,-688.74"/>
<text text-anchor="middle" x="363.89" y="-673.54" font-family="Times,serif" font-size="14.00">3.1.2 Data Cleaning &amp; Validation</text>
<text text-anchor="middle" x="363.89" y="-658.54" font-family="Times,serif" font-size="14.00">(remove dupes, handle #N/A, depth checks)</text>
</g>
<!-- n1&#45;&gt;n2 -->
<g id="edge3" class="edge">
<title>n1&#45;&gt;n2</title>
<path fill="none" stroke="black" d="M363.89,-733.36C363.89,-723.24 363.89,-710.47 363.89,-699.1"/>
<polygon fill="black" stroke="black" points="367.39,-698.77 363.89,-688.77 360.39,-698.77 367.39,-698.77"/>
</g>
<!-- n3 -->
<g id="node5" class="node">
<title>n3</title>
<polygon fill="#fff0f6" stroke="black" points="394.39,-605.74 137.39,-605.74 137.39,-567.74 394.39,-567.74 394.39,-605.74"/>
<text text-anchor="middle" x="265.89" y="-590.54" font-family="Times,serif" font-size="14.00">3.1.3 Lithological Tagging</text>
<text text-anchor="middle" x="265.89" y="-575.54" font-family="Times,serif" font-size="14.00">(normalize: SOIL, LIM, SAP, RSAP, BRK)</text>
</g>
<!-- n2&#45;&gt;n3 -->
<g id="edge4" class="edge">
<title>n2&#45;&gt;n3</title>
<path fill="none" stroke="black" d="M341.65,-650.36C328.02,-639.1 310.41,-624.54 295.6,-612.3"/>
<polygon fill="black" stroke="black" points="297.64,-609.44 287.7,-605.77 293.18,-614.84 297.64,-609.44"/>
</g>
<!-- qc -->
<g id="node12" class="node">
<title>qc</title>
<polygon fill="#fff8d9" stroke="black" points="586.39,-341.74 329.39,-341.74 329.39,-303.74 592.39,-303.74 592.39,-335.74 586.39,-341.74"/>
<polyline fill="none" stroke="black" points="586.39,-341.74 586.39,-335.74 "/>
<polyline fill="none" stroke="black" points="592.39,-335.74 586.39,-335.74 "/>
<text text-anchor="middle" x="460.89" y="-326.54" font-family="Times,serif" font-size="14.00">QAQC Checks</text>
<text text-anchor="middle" x="460.89" y="-311.54" font-family="Times,serif" font-size="14.00">outliers, recovery, LOD flags, summary stats</text>
</g>
<!-- n2&#45;&gt;qc -->
<g id="edge11" class="edge">
<title>n2&#45;&gt;qc</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M409.83,-650.67C434.9,-637.49 460.89,-616.81 460.89,-587.74 460.89,-587.74 460.89,-587.74 460.89,-404.74 460.89,-387.14 460.89,-367.4 460.89,-351.81"/>
<polygon fill="black" stroke="black" points="464.39,-351.76 460.89,-341.76 457.39,-351.76 464.39,-351.76"/>
</g>
<!-- n4 -->
<g id="node6" class="node">
<title>n4</title>
<polygon fill="#e6ffe6" stroke="black" points="353.39,-522.74 166.39,-522.74 166.39,-469.74 353.39,-469.74 353.39,-522.74"/>
<text text-anchor="middle" x="259.89" y="-507.54" font-family="Times,serif" font-size="14.00">3.1.4 Classification</text>
<text text-anchor="middle" x="259.89" y="-492.54" font-family="Times,serif" font-size="14.00">is_old (2021 = 1; 2023&#45;24 = 0)</text>
<text text-anchor="middle" x="259.89" y="-477.54" font-family="Times,serif" font-size="14.00">is_twin (regex base_id)</text>
</g>
<!-- n3&#45;&gt;n4 -->
<g id="edge5" class="edge">
<title>n3&#45;&gt;n4</title>
<path fill="none" stroke="black" d="M264.65,-567.4C263.97,-557.46 263.11,-544.81 262.31,-533.01"/>
<polygon fill="black" stroke="black" points="265.8,-532.68 261.63,-522.94 258.82,-533.15 265.8,-532.68"/>
</g>
<!-- n5 -->
<g id="node7" class="node">
<title>n5</title>
<polygon fill="#fffbe6" stroke="black" points="395.89,-424.74 105.89,-424.74 105.89,-386.74 395.89,-386.74 395.89,-424.74"/>
<text text-anchor="middle" x="250.89" y="-409.54" font-family="Times,serif" font-size="14.00">3.1.5 Consolidation</text>
<text text-anchor="middle" x="250.89" y="-394.54" font-family="Times,serif" font-size="14.00">interval compositing, ensure 1:1 assay↔litho link</text>
</g>
<!-- n4&#45;&gt;n5 -->
<g id="edge6" class="edge">
<title>n4&#45;&gt;n5</title>
<path fill="none" stroke="black" d="M257.29,-469.64C256.18,-458.81 254.9,-446.15 253.77,-435.04"/>
<polygon fill="black" stroke="black" points="257.24,-434.57 252.74,-424.98 250.27,-435.28 257.24,-434.57"/>
</g>
<!-- n6 -->
<g id="node8" class="node">
<title>n6</title>
<polygon fill="#f0f6ff" stroke="black" points="286.39,-341.74 129.39,-341.74 129.39,-303.74 286.39,-303.74 286.39,-341.74"/>
<text text-anchor="middle" x="207.89" y="-326.54" font-family="Times,serif" font-size="14.00">3.1.6 Export Master CSV</text>
<text text-anchor="middle" x="207.89" y="-311.54" font-family="Times,serif" font-size="14.00">(master_df.to_csv())</text>
</g>
<!-- n5&#45;&gt;n6 -->
<g id="edge7" class="edge">
<title>n5&#45;&gt;n6</title>
<path fill="none" stroke="black" d="M241.13,-386.36C235.54,-375.83 228.42,-362.41 222.2,-350.7"/>
<polygon fill="black" stroke="black" points="225.24,-348.96 217.46,-341.77 219.06,-352.24 225.24,-348.96"/>
</g>
<!-- n5&#45;&gt;qc -->
<g id="edge12" class="edge">
<title>n5&#45;&gt;qc</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M297.76,-386.66C329.33,-374.48 371.15,-358.35 404.54,-345.47"/>
<polygon fill="black" stroke="black" points="406.1,-348.63 414.17,-341.76 403.58,-342.1 406.1,-348.63"/>
</g>
<!-- n7 -->
<g id="node9" class="node">
<title>n7</title>
<polygon fill="#f6fff0" stroke="black" points="322.89,-246.24 92.89,-246.24 92.89,-208.24 322.89,-208.24 322.89,-246.24"/>
<text text-anchor="middle" x="207.89" y="-231.04" font-family="Times,serif" font-size="14.00">3.1.7 Import to PostgreSQL (DBeaver)</text>
<text text-anchor="middle" x="207.89" y="-216.04" font-family="Times,serif" font-size="14.00">configure types, handle NULLs</text>
</g>
<!-- n6&#45;&gt;n7 -->
<g id="edge8" class="edge">
<title>n6&#45;&gt;n7</title>
<path fill="none" stroke="black" d="M207.89,-303.71C207.89,-290.35 207.89,-271.87 207.89,-256.54"/>
<polygon fill="black" stroke="black" points="211.39,-256.53 207.89,-246.53 204.39,-256.53 211.39,-256.53"/>
</g>
<!-- n8 -->
<g id="node10" class="node">
<title>n8</title>
<polygon fill="#fff0f0" stroke="black" points="380.39,-150.74 35.39,-150.74 35.39,-112.74 380.39,-112.74 380.39,-150.74"/>
<text text-anchor="middle" x="207.89" y="-135.54" font-family="Times,serif" font-size="14.00">3.1.8 PostGIS Geometry</text>
<text text-anchor="middle" x="207.89" y="-120.54" font-family="Times,serif" font-size="14.00">ALTER TABLE → ADD geom; UPDATE ST_MakePoint()</text>
</g>
<!-- n7&#45;&gt;n8 -->
<g id="edge9" class="edge">
<title>n7&#45;&gt;n8</title>
<path fill="none" stroke="black" d="M207.89,-208.21C207.89,-194.85 207.89,-176.37 207.89,-161.04"/>
<polygon fill="black" stroke="black" points="211.39,-161.03 207.89,-151.03 204.39,-161.03 211.39,-161.03"/>
</g>
<!-- end -->
<g id="node11" class="node">
<title>end</title>
<ellipse fill="#f7f7f7" stroke="black" cx="207.89" cy="-26.87" rx="207.78" ry="26.74"/>
<text text-anchor="middle" x="207.89" y="-30.67" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="14.00">Final: Spatial&#45;enabled Master Table</text>
<text text-anchor="middle" x="207.89" y="-15.67" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="14.00">exploration.master (PostGIS)</text>
</g>
<!-- n8&#45;&gt;end -->
<g id="edge10" class="edge">
<title>n8&#45;&gt;end</title>
<path fill="none" stroke="black" d="M207.89,-112.35C207.89,-98.98 207.89,-80.45 207.89,-64.14"/>
<polygon fill="black" stroke="black" points="211.39,-63.83 207.89,-53.83 204.39,-63.83 211.39,-63.83"/>
<text text-anchor="middle" x="221.39" y="-79.54" font-family="Times,serif" font-size="14.00">done</text>
</g>
<!-- legend -->
<g id="node13" class="node">
<title>legend</title>
<polygon fill="none" stroke="black" points="521.39,-258.74 394.39,-258.74 394.39,-195.74 527.39,-195.74 527.39,-252.74 521.39,-258.74"/>
<polyline fill="none" stroke="black" points="521.39,-258.74 521.39,-252.74 "/>
<polyline fill="none" stroke="black" points="527.39,-252.74 521.39,-252.74 "/>
<text text-anchor="middle" x="460.89" y="-246.74" font-family="Times,serif" font-size="10.00">Legend:</text>
<text text-anchor="middle" x="460.89" y="-235.74" font-family="Times,serif" font-size="10.00">• Blue box = processing step</text>
<text text-anchor="middle" x="460.89" y="-224.74" font-family="Times,serif" font-size="10.00">• Green = classification</text>
<text text-anchor="middle" x="460.89" y="-213.74" font-family="Times,serif" font-size="10.00">• Pink = lithology</text>
<text text-anchor="middle" x="460.89" y="-202.74" font-family="Times,serif" font-size="10.00">• Note = QC checks</text>
</g>
<!-- qc&#45;&gt;legend -->
</g>
</svg>
